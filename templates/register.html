{% extends 'layout.html' %}
{% block body %}
<script>
  $("#register-link").addClass("active");
  // $("#retrieve-link").removeclass("active");
</script>

<div class="container">
  <div id="register-container">
    <form action='register' method="post" id="registerForm">
      <div class="form-group">
        <label for="name">Name:</label>
        <input name="name" class="form-control" id="name" value="{{name}}">
      </div>
      <div class="form-group">
        <label for="mobile-number">Mobile Number:</label>
        <input type="tel" name="mobile-number" class="form-control" id="mobile-number" value="{{mobile}}">
      </div>
      <div class="form-group">
        <label for="class-name">Class Name:</label>
        <input name="class-name" class="form-control" id="class-name" value="{{course}}">
      </div>
      <input type="submit" class="btn btn-default">
    </form>

    <form action="register-verify" method="post" id="verifyForm">
      <div class="form-group">
        <input type="hidden" name="mobile-number" class="form-control" id="number" hidden disabled>
      </div>
      <div class="form-group">
        <label for="pin">Enter 6-Digit PIN here once you receive it:</label>
        <input type="number" name="pin" class="form-control" id="pin" disabled>
      </div>
      <input type="submit" class="btn btn-default" disabled>
    </form>
    <text id=message>{{message}}</text>
  </div>
</div>



<script>
  $("#registerForm").submit(function(event){
    $("#registerForm input").prop('readonly', true);
    $("#registerForm input[type=submit]").prop('disabled', true);
    $("#verifyForm input").removeAttr('disabled');
    $("#number").val($("#mobile-number").val());
    $("#message").remove();
  })
</script>
{% endblock %}
